var ca="function"==typeof Object.defineProperties?Object.defineProperty:function(g,f,k){g!=Array.prototype&&g!=Object.prototype&&(g[f]=k.value)},O="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function da(){da=function(){};O.Symbol||(O.Symbol=ea)}var ha=0;function ea(g){return"jscomp_symbol_"+(g||"")+ha++}
function ia(){da();var g=O.Symbol.iterator;g||(g=O.Symbol.iterator=O.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&ca(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return ja(this)}});ia=function(){}}function ja(g){var f=0;return ka(function(){return f<g.length?{done:!1,value:g[f++]}:{done:!0}})}function ka(g){ia();g={next:g};g[O.Symbol.iterator]=function(){return this};return g}function la(g){ia();da();ia();var f=g[Symbol.iterator];return f?f.call(g):ja(g)}
function R(g,f){function k(){}k.prototype=f.prototype;g.Bb=f.prototype;g.prototype=new k;g.prototype.constructor=g;for(var l in f)if("prototype"!=l)if(Object.defineProperties){var A=Object.getOwnPropertyDescriptor(f,l);A&&Object.defineProperty(g,l,A)}else g[l]=f[l]}for(var V=O,pa=["Array","prototype","fill"],qa=0;qa<pa.length-1;qa++){var ra=pa[qa];ra in V||(V[ra]={});V=V[ra]}
var xa=pa[pa.length-1],ya=V[xa],za=ya?ya:function(g,f,k){var l=this.length||0;0>f&&(f=Math.max(0,l+f));if(null==k||k>l)k=l;k=Number(k);0>k&&(k=Math.max(0,l+k));for(f=Number(f||0);f<k;f++)this[f]=g;return this};za!=ya&&null!=za&&ca(V,xa,{configurable:!0,writable:!0,value:za});
(function(g){function f(l){if(k[l])return k[l].sa;var A=k[l]={sa:{},id:l,loaded:!1};g[l].call(A.sa,A,A.sa,f);A.loaded=!0;return A.sa}var k={};f.B=g;f.C=k;f.A="";return f(0)})([function(){function g(a,b){return q.call(this,a,b)||this}function f(a,b){a=q.call(this,a,b)||this;a.Z=[];a.sb="Controls;You have 3 options to control Hans the Giant's fists:;Gamepad with dual analog sticks;Arrow keys + Mouse;Webcam! - Use 2 bright differently coloured objects to control the fists;You need 2 bright differently coloured objects for the next part.;e.g. plastic cups, fat highlighter pens, big pieces of lego, coloured paper.;A bright red/pink and a yellow/white object are best.;Green/blue objects probably won't work.;If your room is too dark this may not work.;LEFT HAND - Hold up your 1st object and click on its brightest spot.;The object should (mostly) light up green. This may take a few clicks.;RIGHT HAND - Hold up your 2nd object and click on its brightest spot.;The object should (mostly) light up green. This may take a few clicks.;TIME TO TEST!;Move your objects in front of the camera and check that both fists move correctly.;If you are happy with calibration, click PLAY ---\x3e".split(";");
return a}function k(){this.A=[[],[]];this.D=[0,0];this.F=[0,0]}function l(a,b){this.A=a;this.B=b;this.D=a;this.F=b}function A(a){var b=document.getElementById("v");navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(c){b.srcObject=c;a(c,b,null)}).catch(function(b){alert("Unable to access webcam :( -"+b);a(null,null,b)})}function m(a,b){a=q.call(this,a,b)||this;a.global={ka:[],Fa:[],oa:[]};a.speed=2;return a}function w(a,b,c,d,e,r,f){a=t.call(this,a,b,c,d,e-20,r-20,2,10,10,10,10,
e-20,r-20)||this;a.la=b;a.da=d;a.state=0;a.O=100;a.ea=p();a.na=!0;a.fb=!0;a.ja=!1;a.Y=f;a.xa=e;a.ta=r;a.R=a.x;a.S=a.y;a.ba=a.C[d].width;a.aa=a.C[d].height;a.ca=[];return a}function D(a,b,c){this.x=a;this.la=this.y=b;this.C=c;this.R=this.x;this.S=this.y;this.ba=this.C[22].width;this.aa=this.C[22].height;this.A=this.y+270;this.Va=this.M=!1;this.ca=[22,30,31];this.da=22;this.Y=!1;this.B()}function E(a,b,c){this.x=a;this.y=b;this.C=c;this.L=!0;this.D=!1;this.G=this.F=0;this.V=1;this.N=0;this.R=this.x+
this.C[19].width-30;this.S=this.y;this.ba=30;this.aa=this.C[13].height;this.J=!1;this.A=0;this.T=["#0f0","#ff0","#ffa500","#f00"];this.B=0;this.P=Math.floor(15E3/360);this.U=p()}function z(a,b,c){a=t.call(this,a,b,c,13,60,200,2,120,20,100,60,100,80)||this;a.state=0;a.O=100;a.ea=p();a.na=!0;a.fb=!1;a.R=a.x;a.S=a.y;a.ba=a.C[13].width;a.aa=a.C[13].height;a.Y=!1;return a}function t(a,b,c,d,e,r,f,g,h,k,l,m,ma){this.x=a;this.y=b;this.C=c;this.T=f;this.M=!1;a=this.C[d];this.V=Math.floor(a.width/2)+g;this.U=
Math.floor(a.height/2)+h;this.D=Math.floor(this.V-e/2);this.F=Math.floor(this.U-r/2);this.B=this.x+this.D;this.fa=this.y+this.F;this.X=e;this.W=r;this.I=k;this.L=l;this.J=this.x+this.I;this.N=this.y+this.L;this.ga=m;this.$=ma}function P(a,b,c){this.x=a;this.y=b;this.C=c;this.A=new F(a+51,b-363,c);this.ha=new G(this.x-300,this.y+180,c,!1);this.ia=new G(this.x+600,this.y+180,c,!0)}function G(a,b,c,d){a=J.call(this,a,b,c,2,30,30,0,20)||this;a.Ab=2;a.xa=a.C[2].width;a.ta=a.C[2].height;a.angle=90;if(a.Y=
d)a.angle=-90;a.R=a.x;a.S=a.y;a.ba=a.C[2].height;a.aa=a.C[2].width;a.Ja=0;return a}function J(a,b,c,d,e,r,f,g){this.x=a;this.y=b;this.C=c;this.target=null;a=this.C[d];this.L=Math.floor(a.width/2)+f;this.I=Math.floor(a.height/2)+g;this.B=Math.floor(this.L-e/2);this.D=Math.floor(this.I-r/2);this.A=this.x+this.B;this.fa=this.y+this.D;this.G=e;this.F=r}function F(a,b,c){this.x=a;this.y=b;this.C=c;this.B=this.D=!1;this.A={x:this.x+128,y:this.y+187,La:!1,va:this.x+128,wa:this.y+187,Za:p()}}function M(a,
b){var c=q.call(this,a,b)||this;var d={Story:"stor",Start:"play",Controls:"cali"};c.buttons=[];var e=0;Object.keys(d).forEach(function(a){var b=d[a];a=new N(623,500+60*e,120,40,a,"black","red","white",24,10);a.action=function(){c.next(b)};c.buttons.push(a);e++});return c}function N(a,b,c,d,e,r,f,g,h,k){this.x=a;this.y=b;this.width=c;this.height=d;this.text=e;this.F=r;this.G=g;this.B=h;this.D=k;this.I=f;this.A=!1}function B(a){var b=new Audio;b.src=ua(Da[a]);b.play()}function H(a){a=q.call(this,a,
[])||this;a.Ma=0;a.K=[];a.hb=[[19,27,"2c84a6",28,"8ce724",14,"ee360d"],[19,27,"fff",28,"fff",14,"fff"],[19,27,"000",28,"ccc",14,"fff"],[19,27,"fff",28,"f00",14,"fff"],[23,27,"f00"],[23,27,"648e06",12,"648e06"],[22,19,"0055d4",2,"ffd5d5",17,"0055d4",3,"acf",1,"fff"],[22,19,"080",2,"deaa87",17,"080",3,"afa",1,"fff"]];return a}function va(a,b){if(b=b.split(/([a-z]\,[\d+\,*]+)/).filter(function(a){return""!==a}))h=a,h.lineWidth=1,wa(b,!1,0)}function wa(a,b,c){for(var d=0;d<a.length;d++){var e=a[d].split(","),
r=e.shift();if("x"===r)if(0<parseInt(e[0]))wa([].concat(a.slice(d+1)),!0,parseInt(e[0]));else{if(b)break}else{e=e.map(Number);if(b&&0<c)switch(r){case "k":e[0]=0;break;case "n":case "b":e[0]-=c;e[1]-=c;e[2]+=2*c;e[3]+=2*c;break;case "a":case "i":e[2]+=c}Ea[r](e)}}}function u(a,b){return Math.floor(Math.random()*(b-a+1))+a}function p(){return(new Date).getTime()}function x(a,b,c,d,e,r,f,g){var h;a.save();"undefined"===typeof e&&(e=b.width);"undefined"===typeof r&&(r=b.height);"undefined"===typeof h&&
(h=!1);h&&(c-=e/2,d-=r/2);a.translate(c+e/2,d+r/2);a.rotate(2*Math.PI-f*Math.PI/180);a.scale(g?-1:1,1);a.drawImage(b,-e/2,-r/2,e,r);a.restore()}function W(a,b,c,d,e){e&&(a.font="bold "+e+"px Arial");a.fillStyle="#fff";a.fillText(b,c,d)}function Q(a,b,c,d,e,r,f,g){return(a=Fa({ya:a,Aa:b,za:a+c,Ba:b+d},{ya:e,Aa:r,za:e+f,Ba:r+g}))?(f=Math.abs(f*g/100),g=Math.abs((a.za-a.ya)*(a.Ba-a.Aa)),0<g&&0<f?g/f:0):0}function Fa(a,b){b=la([a,b].map(function(a){return{x:[a.ya,a.za].sort(),y:[a.Aa,a.Ba].sort()}}));
a=b.next().value;b=b.next().value;return b.x[0]>a.x[1]||b.x[1]<a.x[0]||b.y[0]>a.y[1]||b.y[1]<a.y[0]?!1:{ya:Math.max(a.x[0],b.x[0]),Aa:Math.max(a.y[0],b.y[0]),za:Math.min(a.x[1],b.x[1]),Ba:Math.min(a.y[1],b.y[1])}}function Y(a,b){a.fillStyle=b;a.fillRect(0,0,1366,768)}function q(a,b){this.F=a;this.K=b}function Ga(){this.wb=function(a){for(var b=0;24>b;b++)this[String.fromCharCode(97+b)]=a[b]||0;.01>this.c&&(this.c=.01);a=this.b+this.c+this.e;.18>a&&(a=.18/a,this.b*=a,this.c*=a,this.e*=a)}}q.prototype.L=
function(){};q.prototype.H=function(){};q.prototype.update=function(){};q.prototype.next=function(a){a=new CustomEvent("ns",{detail:{n:a,c:this.F,i:this.K}});window.dispatchEvent(a)};q.prototype.ib=function(a,b){a=Math.floor(a);b=Math.floor(b);this.U(a,b)};q.prototype.kb=function(a,b,c){a=Math.floor(a);b=Math.floor(b);this.V(a,b,c)};q.prototype.V=function(){};q.prototype.U=function(){};var C=[],h=null,Ea={k:function(a){h.fillStyle=C[a[0]];h.strokeStyle=C[a[0]]},b:function(a){h.fillRect(a[0],a[1],
a[2],a[3])},d:function(a){h.beginPath();h.moveTo(a[0],a[1]);h.lineTo(a[2],a[3]);h.stroke()},f:function(a){h.beginPath();h.moveTo(a[0],a[1]);for(var b=2;b<a.length;b+=2)h.lineTo(a[b],a[b+1]);h.fill()},i:function(a){h.beginPath();h.arc(a[0],a[1],a[2],0,Math.PI/180*360,0);h.fill()},n:function(a){var b=a[0],c=a[1],d=a[2],e=a[3];a=a[4];h.beginPath();h.moveTo(b+a,c);h.lineTo(b+d-a,c);h.quadraticCurveTo(b+d,c,b+d,c+a);h.lineTo(b+d,c+e-a);h.quadraticCurveTo(b+d,c+e,b+d-a,c+e);h.lineTo(b+a,c+e);h.quadraticCurveTo(b,
c+e,b,c+e-a);h.lineTo(b,c+a);h.quadraticCurveTo(b,c,b+a,c);h.closePath();h.fill()},o:function(a){h.lineWidth=a[0]},a:function(a){h.beginPath();h.arc(a[0],a[1],a[2],Math.PI/180*a[3],Math.PI/180*a[4],!0);h.fill()}},y=[80,80,"x,2k,2i,41,41,37x,0",80,80,"x,2k,3i,41,41,37x,0k,0o,2d,4,46,78,26d,8,46,78,41d,6,48,79,55",272,175,"x,2k,3i,33,50,28n,4,44,54,122,20x,0k,2i,32,45,23k,3i,33,55,28k,6n,40,19,54,151,20x,2k,3i,74,40,32n,45,45,54,122,20x,0k,2i,73,38,29k,3i,72,43,29k,6n,89,17,54,151,20x,2k,3i,126,38,33n,94,37,62,129,20x,0k,2i,128,37,31k,3i,127,45,34k,6n,145,30,53,137,20x,2k,3n,156,27,91,124,20x,0x,2k,3i,183,41,30n,151,32,64,136,20x,0k,2i,184,41,29k,3i,183,48,31k,6i,215,107,33n,207,73,53,68,20x,2k,3i,220,103,33n,216,69,53,68,20x,0",
155,135,"k,4i,124,103,31i,76,106,31i,32,102,31x,2k,4i,122,91,31i,34,91,31x,0x,2k,6i,75,57,54i,75,99,27x,0k,2i,50,35,14",455,470,"x,2k,3i,52,216,50k,4i,48,219,45i,62,276,27x,0k,7n,67,151,108,156,20x,2k,3i,403,215,50k,4i,408,219,45i,396,275,27x,0k,7n,288,149,108,156,20x,2k,3i,200,434,32i,248,435,32i,230,160,157n,73,88,317,344,20x,0k,6i,360,322,5i,326,291,5i,356,267,5i,116,283,5k,7i,303,211,43i,145,214,43k,2i,173,48,22",570,500,"x,2k,11n,2,3,566,495,20k,9n,2,10,565,487,20x,0k,0o,2d,277,130,277,516k,10o,3d,279,124,280,522i,467,158,15i,484,234,29i,469,207,16i,428,310,7k,10i,281,167,28i,285,256,28i,285,350,28k,1f,152,51,282,166,441,40k,2f,164,53,282,160,426,44o,2k,0d,163,62,283,168d,436,45,280,169x,2k,14i,277,163,26k,13i,278,165,24x,0k,2i,265,147,3x,2k,14i,283,253,26k,13i,283,255,24x,0k,2i,274,236,3x,2k,14i,283,347,26k,13i,284,349,24x,0k,2i,272,330,3",
105,40,"x,2k,5n,2,3,97,32,20x,0",40,105,"x,2k,5n,2,2,36,97,20x,0",43,43,"k,8i,21,22,21k,0i,21,22,11k,2i,29,15,5",208,63,"x,2k,2n,2,2,203,53,20x,0o,2k,0d,188,247,395,247d,0,26,206,26",10,10,"x,2k,2n,2,2,203,53,20x,0o,2k,0d,188,247,395,247d,0,26,206,26",10,10,"x,2k,2n,2,2,203,53,20x,0o,2k,0d,188,247,395,247d,0,26,206,26",10,10,"x,2k,2n,2,2,203,53,20x,0o,2k,0d,188,247,395,247d,0,26,206,26",320,445,"x,2k,2n,209,321,102,42,20n,210,123,102,42,20n,269,125,46,237,20x,0x,2k,2n,44,389,200,52,20k,0f,63,395,73,372,28,111,256,107,220,366,227,399k,2f,61,403,75,373,30,112,253,110,218,364,227,399x,0b,36,79,215,39k,13i,145,344,63i,141,123,91f,82,346,49,122,234,118,208,350k,2i,139,280,8i,114,205,5i,127,186,4i,118,151,3f,88,275,103,330,95,272,70,106,63,107f,182,340,163,389,195,348,226,110,198,103f,49,123,128,100,239,124,235,79,44,78x,2k,2i,48,108,29i,26,94,19i,76,83,19i,44,72,19i,72,59,19i,111,55,37i,123,93,19i,123,119,11i,153,65,25i,190,67,25i,220,80,19i,244,105,18i,242,79,18i,226,53,18i,202,35,18i,168,31,24i,135,32,24i,82,43,24i,55,52,24x,0",
280,330,"x,2k,2i,30,54,23i,60,43,23i,93,31,23i,136,26,23i,156,49,23i,118,46,23i,171,71,23i,26,79,23x,0x,2k,2i,100,129,93x,0k,2f,9,137,24,261,179,260,193,137k,0o,2d,6,137,27,265d,194,138,176,264k,14i,99,129,76f,24,139,42,268,160,268,173,138k,2i,93,84,5i,117,119,5i,80,136,8x,2k,2n,177,98,95,39,20x,0x,2k,2n,236,98,39,118,20x,0x,2k,2n,174,182,102,39,20x,0x,2k,2i,99,233,96x,0k,14i,100,232,79k,13a,101,234,78,180,0k,2i,65,277,7i,114,255,4i,107,283,4",320,445,"x,2k,2n,209,321,102,42,20n,210,123,102,42,20n,269,125,46,237,20x,0x,2k,2n,44,389,200,52,20k,0f,63,395,73,372,28,111,256,107,220,366,227,399k,2b,31,79,222,37f,61,403,75,373,30,112,254,108,218,364,227,399x,0b,36,79,215,39k,15i,145,344,63f,82,346,40,96,243,96,208,350k,2f,182,340,163,389,195,348,231,91,198,91",
320,225,"k,2i,148,62,50i,217,52,50i,270,95,50i,234,159,50i,146,159,65i,59,149,53i,106,97,53i,197,107,53",153,473,"x,2k,24b,56,277,28,194x,0x,2k,25i,91,254,53i,98,183,53i,94,119,53i,85,60,35i,66,24,22i,58,275,51i,54,207,51i,56,129,51i,56,70,36x,0k,26i,88,256,53i,61,273,53i,56,208,53i,59,129,53i,89,121,53i,94,184,53i,86,60,30i,64,26,21i,53,69,33",100,104,"k,18b,0,4,100,100k,19i,25,55,5i,17,71,2i,45,46,5i,71,77,3i,46,73,5i,92,64,2i,76,51,2k,20b,0,4,100,13k,0b,0,0,100,12k,22b,0,2,100,8k,23b,0,2,100,3",
220,105,"x,2k,2n,4,2,180,3,2k,29n,37,99,119,4,2k,28n,5,7,179,91,5f,185,6,167,98,205,98,206,59x,0k,27b,5,54,200,9k,0o,2d,205,60,184,3d,207,57,207,93x,2k,2i,201,62,6k,29n,187,77,20,24,5n,2,77,13,23,5k,17n,4,58,11,13,5x,0k,14n,12,12,104,38,5x,2k,29a,153,98,24,0,180a,45,98,24,0,180k,16n,130,12,45,36,5x,0k,0f,180,51,179,8,195,49k,16f,181,48,180,10,194,48k,0o,2d,195,51,180,9",44,44,"k,0i,22,22,22k,12i,23,22,10k,21i,23,6,3",30,40,"k,8f,2,3,1,37,14,33f,16,1,8,37,19,33f,28,6,13,34,25,34k,0o,2d,2,3,11,23d,2,3,1,40d,16,0,10,25d,16,0,19,26d,28,3,19,26d,28,3,26,37",
255,375,"x,2k,17n,2,2,251,98,20k,2b,2,15,251,272k,21b,2,269,251,100x,0x,2k,19n,19,150,61,109,10x,2k,12i,69,212,3k,16n,97,149,143,58,10n,97,42,60,58,10n,19,42,60,58,10n,97,41,60,58,10n,180,41,60,58,10k,1b,14,257,70,10x,0k,21b,1,15,252,5k,15b,108,149,12,58b,188,42,12,56b,106,42,12,58b,27,42,12,58k,3b,11,2,233,3k,0o,2d,1,14,254,14",210,152,"k,0n,54,37,8,44,2x,2k,27b,101,6,79,63n,17,62,177,57,20x,0x,2k,21n,49,116,85,3,4n,40,72,48,24,5a,166,119,50,325,190k,1b,141,13,35,46x,0k,0i,28,125,27i,165,114,39o,2d,117,109,209,90k,13i,165,114,18i,28,125,13x,2k,2i,18,82,5k,2n,98,2,85,4,4x,0k,27f,103,8,88,69,112,69k,0f,137,13,137,62,116,71,96,71,106,14k,1f,136,15,136,58,118,69,97,69,108,16k,0o,2d,102,9,89,67"],
K="#000 #ccc #fff #ffd5d5 #faa #c83737 #ff9191 #ff8080 #080 #a6cda6 #85ba85 #e6f1e6 #fd5 #ffe381 #fff6d5 #d5f6ff #aef #ff2a2a #830 #a40 #520 #666 #59eb59 #a2f4a2 #d38d5f #abc837 #677821 #3c3cff #f60 #4d4d4d #009a9a #00cbcb".split(" ");R(H,q);H.prototype.L=function(){var a=this;C=K;for(var b=100/(y.length/3),c=0;c<y.length;c+=3){var d=y[c+2],e=la(this.A(y[c],y[c+1])),f=e.next().value;e=e.next().value;va(f,d);this.K.push(e);this.Ma+=b}this.hb.forEach(function(b){for(var c=3*b[0],d=1;d<b.length;d+=2)C[b[d]]=
"#"+b[d+1];a.K.push(a.B(y[c+2],y[c],y[c+1]));C=K});b=y[51];c=y[52];d=y[53];f=K[30];this.F.Pa=this.G(K[31],d,b,c);this.F.Qa=this.G(f,d,b,c);this.F.Pa=this.D(this.F.Pa);this.F.Qa=this.D(this.F.Qa);this.next("titl")};H.prototype.B=function(a,b,c){c=la(this.A(b,c));b=c.next().value;c=c.next().value;va(b,a);return c};H.prototype.G=function(a,b,c,d){C=this.I(K,a);return this.B(b,c,d)};H.prototype.D=function(a){var b=la(this.A(380,300)),c=b.next().value;b=b.next().value;for(var d=0;4>d;d++)for(var e=0;6>
e;e++)x(c,a,60*e,50*d+u(0,50),76,236);return b};H.prototype.I=function(a,b){for(var c=0;c<a.length;c++)a[c]=b;return a};H.prototype.A=function(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;return[c.getContext("2d"),c]};H.prototype.H=function(a){Y(a,"#892ca0");W(a,"Loading -- "+Math.round(this.Ma)+"%",563,384,32)};var ua={},oa=new function(){this.A=new Ga;var a,b,c,d,e,f,g,h,k,l,m,p;this.B=function(){var a=this.A;d=100/(a.f*a.f+.001);e=100/(a.g*a.g+.001);f=1-a.h*a.h*a.h*.01;g=-a.i*
a.i*a.i*1E-6;a.a||(m=.5-a.n/2,p=5E-5*-a.o);h=1+a.l*a.l*(0<a.l?-.9:10);k=0;l=1==a.m?0:(1-a.m)*(1-a.m)*2E4+32};this.F=function(){this.B();var d=this.A;a=d.b*d.b*1E5;b=d.c*d.c*1E5;c=d.e*d.e*1E5+12;return 3*((a+b+c)/3|0)};this.D=function(r,q){var n=this.A,u=1!=n.s||n.v,t=n.v*n.v*.1,w=1+3E-4*n.w,S=n.s*n.s*n.s*.1,Aa=1+1E-4*n.t,Ca=1!=n.s,x=n.x*n.x,z=n.g,y=n.q||n.r,A=n.r*n.r*n.r*.2,sa=n.q*n.q*(0>n.q?-1020:1020),B=n.p?((1-n.p)*(1-n.p)*2E4|0)+32:0,H=n.d,E=n.j/2,ma=n.k*n.k*.01,F=n.a,G=a,N=1/a,Ba=1/b,P=1/c;n=
5/(1+n.u*n.u*20)*(.01+S);.8<n&&(n=.8);n=1-n;for(var J=!1,M=0,C=0,D=0,Q=0,K=0,Z,aa=0,I,T=0,U,na=0,v,ta=0,X,W=0,fa=Array(1024),ba=Array(32),L=fa.length;L--;)fa[L]=0;for(L=ba.length;L--;)ba[L]=2*Math.random()-1;for(L=0;L<q;L++){if(J)return L;B&&++ta>=B&&(ta=0,this.B());l&&++k>=l&&(l=0,d*=h);f+=g;d*=f;d>e&&(d=e,0<z&&(J=!0));I=d;0<E&&(W+=ma,I*=1+Math.sin(W)*E);I|=0;8>I&&(I=8);F||(m+=p,0>m?m=0:.5<m&&(m=.5));if(++C>G)switch(C=0,++M){case 1:G=b;break;case 2:G=c}switch(M){case 0:D=C*N;break;case 1:D=1+2*(1-
C*Ba)*H;break;case 2:D=1-C*P;break;case 3:D=0,J=!0}y&&(sa+=A,U=sa|0,0>U?U=-U:1023<U&&(U=1023));u&&w&&(t*=w,1E-5>t?t=1E-5:.1<t&&(t=.1));X=0;for(var Y=8;Y--;){T++;if(T>=I&&(T%=I,3==F))for(Z=ba.length;Z--;)ba[Z]=2*Math.random()-1;switch(F){case 0:v=T/I<m?.5:-.5;break;case 1:v=1-T/I*2;break;case 2:v=T/I;v=6.28318531*(.5<v?v-1:v);v=1.27323954*v+.405284735*v*v*(0>v?1:-1);v=.225*((0>v?-1:1)*v*v-v)+v;break;case 3:v=ba[Math.abs(32*T/I|0)]}u&&(Z=aa,S*=Aa,0>S?S=0:.1<S&&(S=.1),Ca?(K+=(v-aa)*S,K*=n):(aa=v,K=0),
aa+=K,Q+=aa-Z,v=Q*=1-t);y&&(fa[na%1024]=v,v+=fa[(na-U+1024)%1024],na++);X+=v}X*=.125*D*x;r[L]=1<=X?32767:-1>=X?-32768:32767*X|0}return q}};ua=function(a){oa.A.wb(a);var b=oa.F();a=new Uint8Array(4*((b+1)/2|0)+44);b=2*oa.D(new Uint16Array(a.buffer,44),b);var c=new Uint32Array(a.buffer,0,44);c[0]=1179011410;c[1]=b+36;c[2]=1163280727;c[3]=544501094;c[4]=16;c[5]=65537;c[6]=44100;c[7]=88200;c[8]=1048578;c[9]=1635017060;c[10]=b;b+=44;c=0;for(var d="data:audio/wav;base64,";c<b;c+=3){var e=a[c]<<16|a[c+1]<<
8|a[c+2];d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e&63]}return d};var Da=[[0,,.1344,,.195,.4999,,,,,,,,.4824,,,,,1,,,.1,,.5],[0,,.654,.3615,.7695,.2925,,-.015,,,,.046,,.223,.539,,-.3229,,1,,,,.2159,.5],[3,,.3696,.2535,.4037,.0999,,-.0134,,,,,,,,
.4544,.2196,-.1392,1,,,,,.5],[3,,.2579,.3189,.3249,.0597,,.1712,,,,-.2342,.6582,,,.4716,-.2343,-.1203,1,,,,,.5],[3,,.3455,.514,.3441,.1119,,.0362,,,,,,,,,,,1,,,,,.5],[0,,.3403,,.3456,.25,,.0916,,,,,,.137,,,,,1,,,,,.5],[0,,.3403,,.3184,.2172,.0192,.0916,,,,.0409,.0441,.1705,.01,.0017,-.0489,,1,-.0258,.0765,,,.5],[1,,.0571,,.466,.3898,,.1875,,.6209,.5363,,,,,,,,1,,,,,.5]];N.prototype.H=function(a){this.F&&(this.A?a.fillStyle=this.I:a.fillStyle=this.F,a.fillRect(this.x,this.y,this.width,this.height));
this.B&&(a.font="bold "+this.B+"px Arial");a.fillStyle=this.G;a.textBaseline="hanging";a.fillText(this.text,this.x+this.D,this.y+this.D,this.width)};N.prototype.Ya=function(a,b,c){var d=this.x,e=this.y;a>=d&&a<=d+this.width&&b>=e&&b<=e+this.height?(this.A=!0,c.style.cursor="pointer"):(this.A=!1,c.style.cursor="default");return this.A};N.prototype.click=function(a,b){var c=this.x,d=this.y;a>=c&&a<=c+this.width&&b>=d&&b<=d+this.height&&(B(0),this.action())};N.prototype.action=function(){};R(M,q);M.prototype.H=
function(a){this.buttons.forEach(function(b){b.H(a)})};M.prototype.update=function(){};M.prototype.V=function(a,b,c){for(var d=0;d<this.buttons.length&&!this.buttons[d].Ya(a,b,c);d++);};M.prototype.U=function(a,b){this.buttons.forEach(function(c){c.click(a,b)})};F.prototype.H=function(a){a.drawImage(this.C[4],this.x,this.y);this.B?x(a,this.C[1],this.x+108,this.y+167,this.C[1].height,this.C[1].width,0,!0):(a.drawImage(this.C[0],this.x+108,this.y+167),a.drawImage(this.C[8],this.A.x,this.A.y));this.B?
a.drawImage(this.C[1],this.x+258,this.y+167):(a.drawImage(this.C[0],this.x+258,this.y+167),a.drawImage(this.C[8],this.A.x+150,this.A.y));a.drawImage(this.C[3],this.x+150,this.y+217);a.drawImage(this.C[9],this.x+125,this.y+360);a.drawImage(this.C[7],this.x+53,this.y+81);a.drawImage(this.C[7],this.x+363,this.y+81);a.drawImage(this.C[6],this.x+100,this.y+100);a.drawImage(this.C[6],this.x+255,this.y+100)};F.prototype.update=function(a){var b=this;a.ka.forEach(function(a){b.Ga(a)?a.ua()?(a.pa()&&a.ra(),
b.D=!1,a.na&&b.F()):(a.pa()||a.Oa(),b.D=!0,a.na&&b.na()):(a.pa()&&a.ra(),b.D=!1,b.F())});this.B||this.G()};F.prototype.Ga=function(a){return a.Ga(this.x+125,this.y+360,this.C[9].width,this.C[9].height)};F.prototype.na=function(){this.B=!0};F.prototype.F=function(){this.B=!1};F.prototype.G=function(){var a=p();if(this.A.La)this.A.x<this.A.va&&this.A.x++,this.A.x>this.A.va&&this.A.x--,this.A.y<this.A.wa&&this.A.y++,this.A.y>this.A.wa&&this.A.y--,this.A.x===this.A.va&&this.A.y===this.A.wa&&(this.A.La=
!1);else if(2E3<a-this.A.Za){a=Math.random()*Math.PI*2;var b=Math.floor(14*Math.sin(a));this.A.va=this.x+Math.floor(14*Math.cos(a))+128;this.A.wa=this.y+b+187;this.A.La=!0;this.A.Za=p()}};J.prototype.update=function(){-100>this.x&&(this.x=-100);1200<this.x&&(this.x=1200);-100>this.y&&(this.y=-100);650<this.y&&(this.y=650);this.A=this.x+this.B;this.fa=this.y+this.D;this.Ka()};J.prototype.J=function(a){!this.target&&a.eb(this.A,this.fa,this.G,this.F)&&(B(0),this.target=a)};J.prototype.Ka=function(){this.target&&
(this.target.Ka(this.A,this.fa),(this.target.ua()||this.target.Wa())&&30>this.target.fa&&(this.target.Na(),this.target=null))};R(G,J);G.prototype.H=function(a){this.target&&this.target.H(a,!0);x(a,this.C[2],this.x,this.y,this.xa,this.ta,this.angle,this.Y)};G.prototype.update=function(a){var b=this;J.prototype.update.call(this);this.R=this.x+50;this.S=this.y-50;this.target||a.ka.forEach(function(a){b.J(a)});this.target&&this.target.ja&&(this.target=null)};G.prototype.move=function(a,b){null!==a&&(this.x+=
a);null!==b&&(this.la=this.y,this.y+=b,this.Ja=this.y>this.la?this.Ja+Math.abs(this.y-this.la):0)};G.prototype.qa=function(a){for(var b=0;b<a.length;b++)if(!a[b].M&&1<Q(this.R,this.S,this.ba,this.aa,a[b].R,a[b].S,a[b].ba,a[b].aa))return{r:!0,c:this.Ja,o:a[b]};return{r:!1}};P.prototype.H=function(a){a.drawImage(this.C[5],this.x,this.y);this.A.H(a);this.ha.H(a);this.ia.H(a)};P.prototype.update=function(a){this.A.update(a);this.ha.update(a);this.ia.update(a)};P.prototype.tb=function(a,b){this.ha.move(a,
b)};P.prototype.ub=function(a,b){this.ia.move(a,b)};t.prototype.update=function(){this.B=this.x+this.D;this.fa=this.y+this.F;this.J=this.x+this.I;this.N=this.y+this.L};t.prototype.eb=function(a,b,c,d){return!this.M&&Q(a,b,c,d,this.B,this.fa,this.X,this.W)>=this.T?this.M=!0:!1};t.prototype.Ka=function(a,b){this.M&&(this.x=a-this.V,this.y=b-this.U,this.B=this.x+this.D,this.fa=this.y+this.F,this.J=this.x+this.I,this.N=this.y+this.L)};t.prototype.Ga=function(a,b,c,d){return this.M&&Q(a,b,c,d,this.J,this.N,
this.ga,this.$)>=this.T?!0:!1};t.prototype.ua=function(){return!1};t.prototype.Wa=function(){return!1};t.prototype.pa=function(){return!1};t.prototype.Oa=function(){};t.prototype.ra=function(){};t.prototype.Na=function(){};R(z,t);z.prototype.H=function(a,b){if(!(1366<this.x)){var c=13;switch(this.state){case 2:c=14;break;case 4:case 3:c=15}this.A()?a.drawImage(this.C[c],this.x,this.y):this.M&&!b||a.drawImage(this.C[c],this.x,this.y)}};z.prototype.update=function(){t.prototype.update.call(this);this.R=
this.x;this.S=this.y;2===this.state&&p()>=this.ea&&(this.ea=p()+300,0<this.O&&(this.O-=10,B(u(5,6))));this.A()&&1400>this.y&&(this.y+=20);(this.A()&&1400<=this.y||!this.state&&-400>this.x)&&this.G()};z.prototype.G=function(){this.x=3E3+u(200,300);this.y=231;this.state=0;this.O=100;this.ea=p();this.M=!1};z.prototype.A=function(){return 4===this.state};z.prototype.pa=function(){return 2===this.state};z.prototype.Oa=function(){this.M&&0<this.O&&(this.ea=p()+300,this.state=2)};z.prototype.ra=function(){this.M&&
(this.state=0<this.O?1:3)};z.prototype.ua=function(){return 0>=this.O};z.prototype.Na=function(){this.state=4;B(7)};E.prototype.W=function(a,b,c,d,e){var f=Math.PI/180*-90;a.fillStyle=e;a.beginPath();a.moveTo(b,c);a.arc(b,c,37,f,d);a.closePath();a.fill()};E.prototype.H=function(a){a.drawImage(this.C[19],this.x,this.y-this.G);x(a,this.C[20],this.x+131,this.y+78,44,44,this.F);x(a,this.C[20],this.x+23,this.y+78,44,44,this.F);this.J&&(a.drawImage(this.C[0],this.x+50,this.y-100),this.W(a,this.x+91,this.y-
100+41,Math.PI/180*(this.A-90),this.T[this.B]))};E.prototype.X=function(){this.J||(this.A=0,this.J=!0,this.B=0,this.U=p()+this.P)};E.prototype.$=function(){this.J=!1};E.prototype.update=function(){3<this.N&&(this.N=0,this.G+=this.V,1<this.G&&(this.V=-1),0>this.G&&(this.V=1));this.N++;this.L&&(this.F-=2,-360>this.F&&(this.F=0));!this.L&&p()>this.U&&(this.A+=1,this.U=p()+this.P,180<this.A&&270>=this.A&&(1>this.B&&(this.D=!1,this.I()),this.B=1),270<this.A&&315>=this.A&&(2>this.B&&(this.D=!1,this.I()),
this.B=2),315<this.A&&(3>this.B&&(this.D=!1,this.I()),this.B=3),180>=this.A&&(this.B=0))};E.prototype.qa=function(a){for(var b=0;b<a.length;b++)if(!a[b].M&&(a[b].name&&Q(this.R,this.S,this.ba,this.aa,a[b].R,a[b].S,a[b].ba,a[b].aa),0<Q(this.R,this.S,this.ba,this.aa,a[b].R,a[b].S,a[b].ba,a[b].aa)))return this.I(),this.L=!1,this.X(),!0;this.D=!1;this.L=!0;this.$();return!1};E.prototype.I=function(){this.D||(B(1),window.setTimeout(B,400,1),this.D=!0)};D.prototype.B=function(){0<this.ca.length&&(this.da=
this.ca[u(0,this.ca.length-1)])};D.prototype.H=function(a){x(a,this.C[this.da],this.x,this.y,this.ba,this.aa,0,this.Y)};D.prototype.update=function(){this.R=this.x;this.S=this.y;-400>this.x&&(this.x=1500+u(0,1E3),this.y=this.la,this.Va=!1,this.B(),this.Y=!this.Y)};D.prototype.bb=function(a){this.y+=Math.ceil(.1*a);this.y>this.A&&(this.y=this.A)};R(w,t);w.prototype.A=function(){0<this.ca.length&&(this.da=this.ca[u(0,this.ca.length-1)])};w.prototype.P=function(a){if(24<=this.da&&27>=this.da){var b=
0;this.Y&&(b=22);x(a,this.C[20],this.x+131+b,this.y+78,44,44,0);x(a,this.C[20],this.x+23+b,this.y+78,44,44,0)}};w.prototype.H=function(a,b){if(!this.ja)if(this.G())x(a,this.C[this.da],this.x,this.y,this.xa,this.ta,0,this.Y),this.P(a);else if(!this.M||b)x(a,this.C[this.da],this.x,this.y,this.xa,this.ta,0,this.Y),this.P(a)};w.prototype.update=function(){if(-200>this.x||this.ja)this.x=1500+u(0,800),this.y=this.la,this.ja=!1,this.state=0,this.M=!1,this.O=100,this.ea=p(),this.Y=!this.Y,this.A();t.prototype.update.call(this);
this.R=this.x;this.S=this.y;2===this.state&&p()>=this.ea&&(this.ea=p()+300,0<this.O&&(this.O=0,B(5)));this.G()&&1400>this.y&&(this.y+=20);if(this.G()&&800<=this.y||!this.state&&-400>this.x)this.ja=!0;3==this.state&&(this.ja=!0)};w.prototype.G=function(){return 4===this.state};w.prototype.pa=function(){return 2===this.state};w.prototype.Oa=function(){this.M&&0<this.O&&(this.ea=p()+300,this.state=2)};w.prototype.ra=function(){this.M&&(this.state=0<this.O?1:3)};w.prototype.ua=function(){return 0>=this.O};
w.prototype.Wa=function(){return!0};w.prototype.Na=function(){this.O=0;this.M=!0;this.state=4;B(7)};R(m,q);m.prototype.L=function(){this.A=new P(428,345,this.K);this.ga=new z(2E3,231,this.K);this.Ea=new E(20,553,this.K);this.I=new D(800,404,this.K);this.J=[];this.W=new w(2200,553,this.K,24,this.K[24].width,this.K[24].height,!0);this.X=new w(1500,530,this.K,23,this.K[23].width,this.K[23].height,!1);this.W.ca=[24,25,26,27];this.X.ca=[23,28,29];this.W.A();this.X.A();console.log("l",this.K.length);this.J.push(this.W);
this.J.push(this.X);this.J.push(this.ga);this.global.ka.push(this.ga);this.global.ka.push(this.W);this.global.ka.push(this.X);this.global.Fa.push(this.I);this.global.oa.push(this.I);this.global.oa.push(this.ga);this.global.oa.push(this.W);this.global.oa.push(this.X);this.P=-10;this.T=-40;this.G=-10;this.Da=!1;CanvasRenderingContext2D.prototype.xb=function(a,c){var b=a.getImageData(0,0,1366,768);a.fillStyle="black";a.fillRect(0,0,1366,768);a.putImageData(b,0,c)};this.D=[];for(var a=0;4>a;a++)this.D.push({x:a*
u(300,600)+u(-50,100),y:220+u(0,40)});this.B=[];for(a=0;4>a;a++)this.B.push({x:a*u(200,1600),y:20+u(0,40)});this.N={};this.ab();this.Ca=!1;this.ma=this.Ra=0};m.prototype.H=function(a){this.lb(a);this.Ua(a,this.F.Pa,360,this.P);this.Ua(a,this.F.Qa,460,this.T);this.A.H(a);this.qb(a);this.Ea.H(a);this.J.forEach(function(b){b.H(a)});this.mb(a,this.G);this.nb(a,this.G);this.I.H(a);this.Ca&&(a.xb(a,u(-25,25)),p()>=this.Ra&&(this.Ca=!1))};m.prototype.Ua=function(a,b,c,d){for(var e=0;6>e;e++)x(a,b,300*e+
d,c)};m.prototype.mb=function(a,b){for(var c=0;15>c;c++)a.drawImage(this.K[21],100*c+b,646)};m.prototype.nb=function(a,b){for(var c=0;15>c;c++)a.drawImage(this.K[18],100*c+b,673)};m.prototype.qb=function(a){for(var b=0;b<this.D.length;b++)a.drawImage(this.K[17],this.D[b].x,this.D[b].y)};m.prototype.lb=function(a){for(var b=0;b<this.B.length;b++)x(a,this.K[16],this.B[b].x,this.B[b].y,320,225,-10)};m.prototype.update=function(){var a=this;this.$a();this.A.update(this.global);this.Ea.update();this.I.update();
this.J.forEach(function(a){a.update()});this.Ea.qa(this.global.oa)?this.Da=!0:this.Da=!1;if(!this.Da){this.P-=this.speed/8;this.T-=this.speed/4;this.G-=this.speed;this.I.x-=this.speed;for(var b=0;b<this.D.length;b++)this.D[b].x-=this.speed,-500>this.D[b].x&&(this.D[b].x+=u(2E3,4E3)+u(-40,40));this.J.forEach(function(b){b.M||(b.x-=a.speed)})}-310>this.P&&(this.P=-10);-340>this.T&&(this.T=-40);-110>this.G&&(this.G=-10,40<this.ma&&(this.speed++,this.ma=0),this.ma++);for(b=0;b<this.B.length;b++)this.B[b].x-=
.1,-500>this.B[b].x&&(this.B[b].x+=u(2E3,4E3)+u(-40,40));b=this.A.ha.qa(this.global.Fa);var c=this.A.ia.qa(this.global.Fa);b.r&&this.Sa(b.vb,b.C);c.r&&this.Sa(c.vb,c.C)};m.prototype.Sa=function(a,b){10<b&&(a.bb(b),B(u(2,4)),this.rb(),a.Va=!1)};m.prototype.rb=function(){this.Ca=!0;this.Ra=p()+200};m.prototype.V=function(){};m.prototype.U=function(){};m.prototype.cb=function(a,b,c,d){this.A.ha.move(a,b);this.A.ia.move(c,d)};m.prototype.$=function(a){var b=0;.2<a&&(b=6);.5<a&&(b=12);.9<a&&(b=24);-.2>
a&&(b=-6);-.5>a&&(b=-12);-.9>a&&(b=-24);return b};m.prototype.jb=function(a,b){var c=null,d=null,e=null,f=null;switch(a){case 0:c=this.$(b);break;case 1:d=this.$(b);break;case 2:e=this.$(b);break;case 3:f=this.$(b)}this.cb(c,d,e,f)};m.prototype.$a=function(){var a=this,b=navigator.getGamepads();Array.isArray(b)||(this.N=b);Object.keys(this.N).forEach(function(b){b=a.N[b];if(null!==b&&b.axes)for(var c=0;c<b.axes.length;c++){var e=b.axes[c];b.axes[c].value&&(e=b.axes[c].value);a.jb(c,e)}})};m.prototype.Ta=
function(a,b){a=a.zb;b?this.N[a.index]=a:delete this.N[a.index]};m.prototype.ab=function(){var a=this;navigator.getGamepads&&(window.addEventListener("gamepadconnected",function(b){a.Ta(b,!0)},!1),window.addEventListener("gamepaddisconnected",function(b){a.Ta(b,!1)},!1))};l.prototype.G=function(a,b,c,d){return(c-a)*(c-a)+(d-b)*(d-b)};l.prototype.H=function(a){a.lineWidth=4;a.strokeStyle="#fff";a.beginPath();a.rect(20*(68-this.A)-20*(this.D-this.A),20*this.B,20*(this.D-this.A),20*(this.F-this.B));
a.stroke()};l.prototype.add=function(a,b){this.A=Math.min(this.A,a);this.B=Math.min(this.B,b);this.D=Math.max(this.D,a);this.F=Math.max(this.F,b)};l.prototype.pb=function(a,b){var c=this.Xa();return 50>this.G(c.Ha,c.Ia,a,b)?!0:!1};l.prototype.size=function(){return Math.abs((this.D-this.A)*(this.F-this.B))};l.prototype.Xa=function(){return{Ha:(this.A+this.D)/2,Ia:(this.B+this.F)/2}};k.prototype.gb=function(a){null!==a?this.A[a]=[]:this.A=[[],[]]};k.prototype.yb=function(a,b,c){for(var d=!1,e=0;e<
this.A[a].length;e++)if(this.A[a][e].pb(b,c)){this.A[a][e].add(b,c);d=!0;break}d||this.A[a].push(new l(b,c))};k.prototype.ob=function(a){a.ha.x=0;a.ha.y=0;a.ia.x=0;a.ia.y=0};k.prototype.update=function(a){if(a)for(var b=0;b<this.A.length;b++){var c=this.B(b);if(null!==c){c=this.A[b][c].Xa();var d=20*(this.D[b]-c.Ha),e=-20*(this.F[b]-c.Ia);d||(d=null);e||(e=null);1>b?a.tb(d,e):a.ub(d,e);this.D[b]=c.Ha;this.F[b]=c.Ia}}};k.prototype.B=function(a){var b=1,c=null,d=0;this.A[a].forEach(function(a){a.size()>
b&&(b=a.size(),c=d);d++});return c};k.prototype.H=function(a){for(var b=0;b<this.A.length;b++){var c=this.B(b);null!==c&&this.A[b][c].H(a)}};R(f,q);f.prototype.L=function(){this.button=[];this.button[0]=new N(0,0,1,1,"","black","red","white",24,10);this.button[1]=new N(0,0,1,1,"Back","black","red","white",24,10);this.stream=this.video=null;this.D=!1;this.I=new k;this.$()};f.prototype.G=function(a,b,c,d,e,f){for(;b<c;b++)W(a,this.sb[b],350,d,f?f:24),d+=e};f.prototype.H=function(a){this.ga=a;switch(this.state){case 0:Y(a,
"#5f1e6f");this.G(a,0,5,100,80);this.button.forEach(function(b){b.H(a)});break;case 1:this.D?(this.J(a,null),this.button.forEach(function(b){b.H(a)}),a.fillStyle="#000",a.fillRect(300,600,800,200),this.G(a,5,10,620,25,18)):(Y(a,"#5f1e6f"),W(a,"One moment. Browser may request permission to access webcam.",350,300,24));break;case 2:this.D&&(this.J(a,0),this.button.forEach(function(b){b.H(a)}),a.fillStyle="#000",a.fillRect(300,680,800,150),this.G(a,10,12,700,25,18));break;case 3:this.D&&(this.J(a,1),
this.button.forEach(function(b){b.H(a)}),a.fillStyle="#000",a.fillRect(300,680,800,150),this.G(a,12,14,700,25,18));break;case 4:this.D&&(this.J(a,null),this.I.H(a),this.A.H(a),this.button.forEach(function(b){b.H(a)}),a.fillStyle="#000",a.fillRect(300,650,800,150),this.G(a,14,17,680,25,18))}};f.prototype.N=function(a,b,c,d,e,f){return(d-a)*(d-a)+(e-b)*(e-b)+(f-c)*(f-c)};f.prototype.J=function(a,b){this.I.gb(b);a.drawImage(this.video,0,0,this.video.width,this.video.height);for(var c=a.getImageData(0,
0,this.video.width,this.video.height).data,d=this.video.width,e=this.video.height,f=0;f<e;f++)for(var g=0;g<d;g++){var h=4*(g+f*d),k=c[h],l=c[h+1];h=c[h+2];a.fillStyle="rgb("+k+","+l+","+h+")";(2===this.state||3==this.state)&&null!==b&&1600>this.N(k,l,h,this.Z[b][0],this.Z[b][1],this.Z[b][2])&&(a.globalAlpha=.3,a.fillStyle="green");if(4===this.state)for(var m=0;2>m;m++)1600>this.N(k,l,h,this.Z[m][0],this.Z[m][1],this.Z[m][2])&&this.I.yb(m,g,f);a.fillRect(20*(d-1-g),20*f,20,20);a.globalAlpha=1}};f.prototype.update=
function(){4===this.state&&(this.A.update(this.global),this.I.update(this.A))};f.prototype.B=function(a,b,c,d,e,f,g){this.button[a].x=b;this.button[a].y=c;this.button[a].text=d;this.button[a].action=e;f&&(this.button[a].width=f);g&&(this.button[a].height=g)};f.prototype.$=function(){var a=this;this.B(0,483,500,"Calibrate webcam controls",function(){a.P()},350,40);this.B(1,483,560,"Back",function(){a.next("titl")},350,40);this.state=0};f.prototype.P=function(){var a=this;this.B(0,0,650,"Back",function(){a.$()},
120);this.B(1,1200,650,"Next",function(){a.W()});this.state=1;A(function(b,c,d){d||(a.video=c,a.stream=b,a.D=!0)})};f.prototype.W=function(){var a=this;this.B(0,0,650,"Back",function(){a.P()},120);this.B(1,1200,650,"Next",function(){a.X()});this.Z[0]||(this.Z[0]=[255,0,0]);this.state=2};f.prototype.X=function(){var a=this;this.B(0,0,650,"Back",function(){a.W()},120);this.B(1,1200,650,"Next",function(){a.ma()});this.Z[1]||(this.Z[1]=[255,0,0]);this.state=3};f.prototype.ma=function(){var a=this;this.B(0,
0,650,"Back",function(){a.X()},120);this.B(1,1200,650,"PLAY!",function(){a.next("play")});this.state=4;this.A||(this.global={ka:[]},this.A=new P(428,345,this.K));this.I.ob(this.A)};f.prototype.V=function(a,b,c){this.button.forEach(function(d){d.Ya(a,b,c)})};f.prototype.T=function(a,b){a=this.ga.getImageData(a,b,1,1).data;return[a[0],a[1],a[2]]};f.prototype.U=function(a,b){this.button.forEach(function(c){c.click(a,b)});2===this.state&&(this.Z[0]=this.T(a,b));3===this.state&&(this.Z[1]=this.T(a,b))};
R(g,q);g.prototype.L=function(){};g.prototype.H=function(){};g.prototype.update=function(){};g.prototype.V=function(){};g.prototype.U=function(){};(function(){window.addEventListener("load",function(){function a(){d.globalAlpha=1;h||(e.update(),d.clearRect(0,0,1366,768),e.H(d));if(k||l){d.clearRect(0,0,1366,768);e.H(d);d.fillStyle="#000";d.globalAlpha=w;d.fillRect(0,0,1366,768);b()>x&&(w+=u,x=b()+7);if(k&&1<w){switch(t){case "play":e=new m(p,q);break;case "titl":e=new M(p,q);break;case "cali":e=new f(p,
q);break;case "stor":e=new g(p,q)}e.L();l=!0;k=!1;w=1;u=-.025;h=!0;x=b()+7}l&&0>w&&(h=l=!1)}requestAnimationFrame(a)}function b(){return(new Date).getTime()}var c=document.getElementById("c"),d=c.getContext("2d"),e=new H({}),h=!1,k=!1,l=!1,t=null,p=null,q=[],u=0,w=0,x=b();window.addEventListener("ns",function(a){t=a.detail.n;p=a.detail.C;q=a.detail.da;k=!0;l=!1;w=0;u=.025;x=b()+7},!1);(function(a){a.addEventListener("click",function(b){var c=a.getBoundingClientRect(),d=b.clientX-c.left;b=b.clientY-
c.top;h||e.ib(d,b)},!1);a.addEventListener("mousemove",function(b){var c=a.getBoundingClientRect();e.kb(b.clientX-c.left,b.clientY-c.top,a)},!1)})(c);e.L();a()})})()}]);
