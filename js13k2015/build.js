!function t(e,i,s){function n(r,a){if(!i[r]){if(!e[r]){var o="function"==typeof require&&require;if(!a&&o)return o(r,!0);if(h)return h(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){var i=e[r][1][t];return n(i?i:t)},l,l.exports,t,e,i,s)}return i[r].exports}for(var h="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(t){!function(){"use strict";var e=t(2),i=t(4),s=t(3),n=null,h=function(){return Date.now()},r=0,a=1,o=2,c=3,l=4,f=function(){var t=this;this.images=[];var s=document.querySelector("#game");this.ctx=s.getContext("2d"),this.ctx.imageSmoothingEnabled=this.ctx.mozImageSmoothingEnabled=this.ctx.oImageSmoothingEnabled=!1,this.gameSize={width:s.width,height:s.height},this.state=r,this.keyboarder=new e,this.loadingScreen=new i(this,"#000",["Loading..."]),this.titleScreen=new i(this,"#6b036e",["Js13k boilerplate","simple platformer","Code by","madmarcel","Art by","surt"],"S","start",o),this.gameoverScreen=new i(this,"#000",["Game Over"],"R","try again",a),this.loadImages();var n=1e3/60,c=h(),l=0,f=function(){for(l=0;h()>c&&10>l;)t.update(),c+=n,l++;t.render(),requestAnimationFrame(f)};f()};f.prototype={render:function(){switch(this.ctx.clearRect(0,0,this.gameSize.width,this.gameSize.height),this.state){case r:this.loadingScreen.render(this.ctx);break;case a:this.titleScreen.render(this.ctx);break;case c:this.level.render(this.ctx);break;case l:this.gameoverScreen.render(this.ctx)}},update:function(){switch(this.state){case r:this.loadingScreen.update();break;case a:this.titleScreen.update();break;case o:this.level=new s(1,this),this.state=c;break;case c:this.keyboarder.isDown("RIGHT")&&this.level.moveRight(),this.keyboarder.isDown("LEFT")&&this.level.moveLeft(),this.level.update();break;case l:this.gameoverScreen.update()}},loadImages:function(){for(var t=this,e=["spritesheet","player"],i=function(i){i>=e.length&&(t.state=o)},s=0,n=0;n<e.length;n++){var h=new Image;h.onload=function(){s++,t.LOADINGCOUNTER++,i(s)},h.src=e[n]+".png",t.images[n]=h}}},window.addEventListener("load",function(){n=new f})}()},{2:2,3:3,4:4}],2:[function(t,e){"use strict";var i=function(){var t=this;this.keyState={},window.addEventListener("keydown",function(e){t.preventKeys.indexOf(e.keyCode)>-1&&(e.preventDefault(),e.stopPropagation()),t.keyState[e.keyCode]=!0}),window.addEventListener("keyup",function(e){t.keyState[e.keyCode]=!1}),this.KEYS={LEFT:37,RIGHT:39,UP:38,DOWN:40,SPACE:32,ENTER:13,ESC:27};for(var e=65;91>e;e++)this.KEYS[String.fromCharCode(e)]=e;this.preventKeys=[this.KEYS.LEFT,this.KEYS.RIGHT,this.KEYS.UP,this.KEYS.DOWN,this.KEYS.SPACE,this.KEYS.ENTER,this.KEYS.ESC]};i.prototype={isDown:function(t){return this.keyState[this.KEYS[t]]===!0}},e.exports=i},{}],3:[function(t,e){"use strict";function i(t,e){this.number=t,this.data=["..........................................................................................................................................................................................................................................................................................................................VUuv.....n.N.........................................................................................Tt.....Ghhhg......n........................................................................e........Tt..............Imm......................................................................Ghhhg......Tt.............IJoo................................................................................Immmi..........IJsbbL..................................................................nlk.N..w....IJsooji........IJsbbbmmm......mmm......................................................mmmmmmmmm..kIJsbbboji......IJsbbbbooo..L...bbb......................................................ooooooooo..mJsbbbbboji.nkLIJsbbbbbbbbmmm...bbb......................................................bbbbbbbbbffoobbbbbbbojmmmmJsbbbbbbbbboooFFFbbb....................................................Fb","...........................................................................................................................................................................................................................................................................................................................................................................................................................VUuv.................................................................................................Tt.............VUuv.................................................................................Tt..............Tt.............................................................................VUuv.Tt..............Tt.......................................................................NkLn...Tt..Tt..........Xdx.Tt......................................................................mmmmmi..Tt..Tt.....VUuv.....Tt......................................................................OOOOSj..Tt..Tt......Tt......Tt......................................................................BBBBBS..Tt..Tt......Tt......Tt......................................................................"],this.parent=e,this.height=12,this.tilesize=16,this.scale=4,this.buffers=[{b:null,c:null,w:80,xo:0},{b:null,c:null,w:100,xo:0}],this.init(this.buffers[0],!1),this.init(this.buffers[1],!0)}i.prototype={rand:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},genBG:function(t,e){for(var i=[[17,0],[-16,-17],[16,15]],s=[[1,1,2,0],[0,0,1,1,2,0],[0,-1,2,-1,1,0]],n=0,h=0,r=this.rand(4,8),a=0;e>a;a++){t[a][r]=i[n][0],t[a][r+1]=i[n][1];for(var o=r+2;o<this.height;o++)t[a][o]=0;if(r>9){for(var c=-1;0>c;)h=2*this.rand(0,s[n].length/2-1),c=s[n][h+1];r-=s[n][h+1],n=s[n][h]}else if(2>r){for(var c=1;c>0;)h=2*this.rand(0,s[n].length/2-1),c=s[n][h+1];r-=s[n][h+1],n=s[n][h]}else h=2*this.rand(0,s[n].length/2-1),r-=s[n][h+1],n=s[n][h]}},init:function(t,e){var i=[];this.emptyTilemap(i,t.w,this.height),e?this.convertTilemap(i,this.data[this.number],t.w):this.genBG(i,t.w),this.createImage(t.w*this.tilesize*this.scale,this.parent.gameSize.height,t),this.drawTileMap(t.c,i,this.height,t.w)},update:function(){},render:function(t){for(var e=0;e<this.buffers.length;e++)null!==this.buffers[e].b&&t.drawImage(this.buffers[e].b,this.buffers[e].xo,0,t.canvas.width,t.canvas.height,0,0,t.canvas.width,t.canvas.height)},drawTile:function(t,e,i,s,n){var h=this.tilesize*this.scale;n?(t.save(),t.translate(t.canvas.width,0),t.scale(-1,1),t.drawImage(this.parent.images[0],e*this.tilesize,0,this.tilesize,this.tilesize,t.canvas.width-i*h-h,s*h,h,h),t.restore()):t.drawImage(this.parent.images[0],e*this.tilesize,0,this.tilesize,this.tilesize,i*h,s*h,h,h)},createImage:function(t,e,i){var s=document.createElement("canvas");s.width=t,s.height=e;var n=s.getContext("2d");n.imageSmoothingEnabled=n.mozImageSmoothingEnabled=n.oImageSmoothingEnabled=!1,i.b=s,i.c=n},moveRight:function(){this.buffers[1].xo<this.buffers[1].w*this.tilesize*this.scale-this.parent.gameSize.width-10&&(this.buffers[1].xo+=10,this.buffers[0].xo+=5)},moveLeft:function(){this.buffers[1].xo>0&&(this.buffers[1].xo-=10,this.buffers[0].xo-=5)},emptyTilemap:function(t,e,i){for(var s=0;e>s;s++){t[s]=[];for(var n=0;i>n;n++)t[s].push(-1)}},convertTilemap:function(t,e,i){for(var s=0,n=0,h=0;h<e.length;h++)t[s][n]=e[h].charCodeAt()-97,s++,s>i-1&&(s=0,n++)},drawTileMap:function(t,e,i,s){for(var n=!1,h=0;i>h;h++)for(var r=0;s>r;r++)e[r][h]>-33&&(n=!1,e[r][h]<-6&&(e[r][h]+=32,n=!0),this.drawTile(t,e[r][h],r,h,n))}},e.exports=i},{}],4:[function(t,e){"use strict";var i=function(t,e,i,s,n,h){this.height=t.gameSize.height,this.width=t.gameSize.width,this.halfwidth=this.width/2,this.bgcolour=e,this.text=i,this.continueKey=s||null,this.keyWord=n,this.nextstate=h,this.game=t};i.prototype={render:function(t){t.fillStyle=this.bgcolour,t.fillRect(0,0,this.width,this.height),t.font="30px Verdana",t.textAlign="center",t.fillStyle="#FFF";for(var e=100,i=0;i<this.text.length;i++)t.fillText(this.text[i],this.halfwidth,e),e+=40,i%2!==0&&(e+=30,t.font="24px Verdana");null!==this.continueKey&&t.fillText("Press "+this.continueKey+" to "+this.keyWord,this.halfwidth,this.height-80)},update:function(){null!==this.continueKey&&this.game.keyboarder.isDown(this.continueKey)&&(this.game.state=this.nextstate)}},e.exports=i},{}]},{},[1]);