!function t(e,i,s){function h(n,o){if(!i[n]){if(!e[n]){var r="function"==typeof require&&require;if(!o&&r)return r(n,!0);if(b)return b(n,!0);var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}var l=i[n]={exports:{}};e[n][0].call(l.exports,function(t){var i=e[n][1][t];return h(i?i:t)},l,l.exports,t,e,i,s)}return i[n].exports}for(var b="function"==typeof require&&require,n=0;n<s.length;n++)h(s[n]);return h}({1:[function(t){!function(){"use strict";var e=t(2),i=t(4),s=t(3),h=null,b=function(){return Date.now()},n=0,o=1,r=2,a=3,l=4,c=function(){var t=this;this.images=[];var s=document.querySelector("#game");this.ctx=s.getContext("2d"),this.ctx.imageSmoothingEnabled=this.ctx.mozImageSmoothingEnabled=this.ctx.oImageSmoothingEnabled=!1,this.gameSize={width:s.width,height:s.height},this.state=n,this.keyboarder=new e,this.loadingScreen=new i(this,"#000",["Loading..."]),this.titleScreen=new i(this,"#6b036e",["Js13k boilerplate","simple platformer","Code by","madmarcel","Art by","surt"],"S","start",r),this.gameoverScreen=new i(this,"#000",["Game Over"],"R","try again",o),this.loadImages();var h=1e3/60,a=b(),l=0,c=function(){for(l=0;b()>a&&10>l;)t.update(),a+=h,l++;t.render(),requestAnimationFrame(c)};c()};c.prototype={render:function(){switch(this.ctx.clearRect(0,0,this.gameSize.width,this.gameSize.height),this.state){case n:this.loadingScreen.render(this.ctx);break;case o:this.titleScreen.render(this.ctx);break;case a:this.level.render(this.ctx);break;case l:this.gameoverScreen.render(this.ctx)}},update:function(){switch(this.state){case n:this.loadingScreen.update();break;case o:this.titleScreen.update();break;case r:this.level=new s(0,this),this.state=a;break;case a:this.keyboarder.isDown("RIGHT")&&this.level.moveRight(),this.keyboarder.isDown("LEFT")&&this.level.moveLeft(),this.level.update();break;case l:this.gameoverScreen.update()}},loadImages:function(){for(var t=this,e=["spritesheet","player"],i=function(i){i>=e.length&&(t.state=r)},s=0,h=0;h<e.length;h++){var b=new Image;b.onload=function(){s++,t.LOADINGCOUNTER++,i(s)},b.src=e[h]+".png",t.images[h]=b}}},window.addEventListener("load",function(){h=new c})}()},{2:2,3:3,4:4}],2:[function(t,e){"use strict";var i=function(){var t=this;this.keyState={},window.addEventListener("keydown",function(e){t.preventKeys.indexOf(e.keyCode)>-1&&(e.preventDefault(),e.stopPropagation()),t.keyState[e.keyCode]=!0}),window.addEventListener("keyup",function(e){t.keyState[e.keyCode]=!1}),this.KEYS={LEFT:37,RIGHT:39,UP:38,DOWN:40,SPACE:32,ENTER:13,ESC:27};for(var e=65;91>e;e++)this.KEYS[String.fromCharCode(e)]=e;this.preventKeys=[this.KEYS.LEFT,this.KEYS.RIGHT,this.KEYS.UP,this.KEYS.DOWN,this.KEYS.SPACE,this.KEYS.ENTER,this.KEYS.ESC]};i.prototype={isDown:function(t){return this.keyState[this.KEYS[t]]===!0}},e.exports=i},{}],3:[function(t,e){"use strict";function i(t,e){this.number=t,this.data=["..........................................................................................................................................................................................................................................................................................................................VUuv.....n.N................n.N......................................................................Tt.....Ghhhg......n.......GHHHg............................................................e........Tt..............Imm..................N...n...ne.N...n....................................Ghhhg......Ttn............IJoo................Immm.Ghhhhhhhhg.mmm.............................................Immmi..........IJsbblkn.......N....IJsoo............ooo................................nlk.N..n....IJsooji........IJsbbbmmm......mmmilIJsbbb...........Ibbb...............................mmmmmmmmm..kIJsbbboji......IJsbbbbooon.L...ooojmJsbbbb......KL..IJbbb...............................ooooooooo..mJsbbbbboji.nkLIJsbbbbbbbbmmm...bbbooobbbbbmmmmmmmmmmJsbbb..........................mmmmmbbbbbbbbbffoobbbbbbbojmmmmJsbbbbbbbbboooFFFbbbbbbbbbbbooooooooooobbbb..........................ooooo0","...........................................................................................................................................................................................................................................................................................................................................................................................................................VUuv.................................................................................................Tt.............VUuv.................................................................................Tt..............Tt.............................................................................VUuv.Tt..............Tt.......................................................................NkLn...Tt..Tt..............Tt......................................................................mmmmmi..Tt..Tt.....VUuv.....Tt......................................................................OOOOSj..Tt..Tt......Tt......Tt......................................................................BBBBBS..Tt..Tt......Tt......Tt......................................................................0","bbbbbbbbbbbbbbBBBBbbbbbBbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb.............................................bbbbbbbbbgttttttttttvttGbgttttttGbgtttttttttttttttttttt.............................................bbbbbbbbbg..........d..Gbg......Gbg.................................................................bbbbbbbbbg..........d..GPg......ttt.................................................................tttttttvtt..........d..Gbg.................................................................................d............d..ttt..........IhhF..............f....................................................d............d..............IJbPg.........XWwx.G....................................................d............c.............IJbbbg..............G....................................................d...........IhhHi.........IJbbbbg..............G....................................................c.....l....IJBPbjhhhF.XwwxGbbbbbg..............G.................................................IHHHHHHHHF..fhJBBBbbbbbgyyyyyGbbbbbg..............G.............................................HHHHJBBBBBBBBgyyGbBBBBbbbbbgZZZZZGbbbbbgYYYYYYYYYYYYYYG.............................................1"],this.parent=e,this.height=12,this.tilesize=16,this.scale=4,this.tileset=0,this.buffers=[{b:null,c:null,w:80,xo:0},{b:null,c:null,w:100,xo:0}],this.blockers=[],this.init(this.buffers[0],!1),this.init(this.buffers[1],!0)}i.prototype={rand:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},genBG:function(t,e,i){if(1===this.tileset){for(var s=[10,15,16,17],h=0,b=0,n=0;100>n;n++)h=this.rand(0,e-1),b=this.rand(0,i-1),t[h][b]=14;for(b=5,h=this.rand(5,8);e>h;h+=this.rand(4,7)){var o=this.rand(0,3);b=this.rand(3,5),t[h][b]=s[o],3===o&&(t[h][b+1]=s[o]+1)}}else for(var r=[[17,0],[-16,-17],[16,15]],n=[[1,1,2,0],[0,0,1,1,2,0],[0,-1,2,-1,1,0]],a=0,l=0,c=this.rand(4,8),m=0;e>m;m++){t[m][c]=r[a][0],t[m][c+1]=r[a][1];for(var f=c+2;f<this.height;f++)t[m][f]=0;if(c>9){for(var u=-1;0>u;)l=2*this.rand(0,n[a].length/2-1),u=n[a][l+1];c-=n[a][l+1],a=n[a][l]}else if(2>c){for(var u=1;u>0;)l=2*this.rand(0,n[a].length/2-1),u=n[a][l+1];c-=n[a][l+1],a=n[a][l]}else l=2*this.rand(0,n[a].length/2-1),c-=n[a][l+1],a=n[a][l]}},genBlockers:function(t,e,i){this.blockers=[];for(var s=[],h=this.tilesize*this.scale,b=0;i>b;b++){s.push([]);for(var n=0;e>n;n++){var o=t[n][b];s[n][b]=t[n][b],-51!==o?(console.log(o),this.blockers.push[{x:n*h,y:b*h}],s[n][b]="*"):s[n][b]=" "}}},init:function(t,e){var i=[];this.tileset=parseInt(this.data[this.number][1200],10),this.emptyTilemap(i,t.w,this.height,this.tileset-1),e?this.convertTilemap(i,this.data[this.number],t.w):this.genBG(i,t.w,this.height),this.createImage(t.w*this.tilesize*this.scale,this.parent.gameSize.height,t),this.drawTileMap(t.c,i,this.height,t.w)},update:function(){},render:function(t){for(var e=0;e<this.buffers.length;e++)null!==this.buffers[e].b&&t.drawImage(this.buffers[e].b,this.buffers[e].xo,0,t.canvas.width,t.canvas.height,0,0,t.canvas.width,t.canvas.height)},drawTile:function(t,e,i,s,h){var b=this.tilesize*this.scale;h?(t.save(),t.translate(t.canvas.width,0),t.scale(-1,1),t.drawImage(this.parent.images[0],e*this.tilesize,this.tileset*this.tilesize,this.tilesize,this.tilesize,t.canvas.width-i*b-b,s*b,b,b),t.restore()):t.drawImage(this.parent.images[0],e*this.tilesize,this.tileset*this.tilesize,this.tilesize,this.tilesize,i*b,s*b,b,b)},createImage:function(t,e,i){var s=document.createElement("canvas");s.width=t,s.height=e;var h=s.getContext("2d");h.imageSmoothingEnabled=h.mozImageSmoothingEnabled=h.oImageSmoothingEnabled=!1,i.b=s,i.c=h},moveRight:function(){this.buffers[1].xo<this.buffers[1].w*this.tilesize*this.scale-this.parent.gameSize.width-10&&(this.buffers[1].xo+=10,this.buffers[0].xo+=5)},moveLeft:function(){this.buffers[1].xo>0&&(this.buffers[1].xo-=10,this.buffers[0].xo-=5)},emptyTilemap:function(t,e,i,s){for(var h=0;e>h;h++){t[h]=[];for(var b=0;i>b;b++)t[h].push(s)}},convertTilemap:function(t,e,i){for(var s=0,h=0,b=0;b<e.length;b++)t[s][h]=e[b].charCodeAt()-97,s++,s>i-1&&(s=0,h++)},drawTileMap:function(t,e,i,s){for(var h=!1,b=0;i>b;b++)for(var n=0;s>n;n++)e[n][b]>-33&&(h=!1,e[n][b]<-6&&(e[n][b]+=32,h=!0),this.drawTile(t,e[n][b],n,b,h))}},e.exports=i},{}],4:[function(t,e){"use strict";var i=function(t,e,i,s,h,b){this.height=t.gameSize.height,this.width=t.gameSize.width,this.halfwidth=this.width/2,this.bgcolour=e,this.text=i,this.continueKey=s||null,this.keyWord=h,this.nextstate=b,this.game=t};i.prototype={render:function(t){t.fillStyle=this.bgcolour,t.fillRect(0,0,this.width,this.height),t.font="30px Verdana",t.textAlign="center",t.fillStyle="#FFF";for(var e=100,i=0;i<this.text.length;i++)t.fillText(this.text[i],this.halfwidth,e),e+=40,i%2!==0&&(e+=30,t.font="24px Verdana");null!==this.continueKey&&t.fillText("Press "+this.continueKey+" to "+this.keyWord,this.halfwidth,this.height-80)},update:function(){null!==this.continueKey&&this.game.keyboarder.isDown(this.continueKey)&&(this.game.state=this.nextstate)}},e.exports=i},{}]},{},[1]);